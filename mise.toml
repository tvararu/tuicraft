[tools]
bun = "latest"

[tasks.bundle]
description = "Install dependencies"
run = "bun install"

[tasks.start]
description = "Run the client"
run = "bun run start"

[tasks.test]
description = "Run all tests"
run = "bun test"

[tasks."test:live"]
description = "Run tests against a live server"
run = "bun test ./src/test/live.ts"

[tasks."test:coverage"]
description = "Run tests with coverage report"
run = "bun test --coverage"

[tasks.ci]
description = "Run all CI checks in parallel"
run = "mise typecheck ::: test ::: format"

[tasks.typecheck]
description = "Type-check with tsc"
run = "bun run typecheck"

[tasks.format]
description = "Check formatting"
run = "bunx prettier --check src/"

[tasks."format:fix"]
description = "Fix formatting"
run = "bunx prettier --write src/"
